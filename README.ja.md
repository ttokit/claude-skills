# claude-skills

Claude Code 用のスキルコレクション。PRレビュー対応などの生産性向上スキルを提供します。

[English README](README.md)

## 前提条件

- [GitHub CLI](https://cli.github.com/) (`gh` コマンド)
- [gh-pr-review](https://github.com/agynio/gh-pr-review) 拡張機能:
  ```bash
  gh extension install agynio/gh-pr-review
  ```

## インストール

```bash
npx skills add ttokit/claude-skills
```

pr-review-response のみをインストールする場合:
```bash
npx skills add ttokit/claude-skills --skill pr-review-response
```

## 含まれるスキル

### pr-review-response

PRレビュー指摘への対応を支援するスキル。

**機能:**
- レビューコメントの取得と妥当性分析
- 対応方針の確認（修正/反論/スキップ）
- コード修正の実行とコミット作成
- レビューコメントへの返信

**ワークフロー:**
- 3フェーズプロセス: 分析 → 確認 → 実行
- 並列サブエージェントで複数コメントを効率的に分析
- 現在のブランチからPRを自動特定（PR番号指定不要）

**特長:**
- **エンドツーエンド自動化** - コード修正 → テスト → フォーマット → コミット → プッシュ → 返信を一気通貫
- **妥当性のスマート評価** - 各コメントをvalid/invalid/partialの3段階で評価し根拠を提示
- **対応前に必ずユーザー確認** - 各コメントへの対応方針はAskUserQuestionで確認してから実行
- **返信テンプレート** - 4種類のテンプレート（修正完了/反論/部分同意/質問説明）でプロフェッショナルな返信
- **未解決のインラインコメントのみ取得** - インライン以外のコメント（PR全体へのコメント等）は明示的に指示が必要
- **コメントを自動resolveしない** - ユーザーがPR上で確認・編集可能な状態を維持

**トリガー:**
- "review response", "PR comments", "address feedback"
- "respond to review", "PR #123 review"
- 「レビュー対応」「PR指摘」「コメント対応」

**言語サポート:**
- PR言語を自動検出（英語/日本語）
- 検出した言語で返信
- "reply in [language]" でオーバーライド可能

## トラブルシューティング

### gh-pr-reviewが動作しない

拡張機能が正しく動作しない場合、いくつかの点を確認する必要があります。最新バージョンがインストールされていることを確認してください。`gh extension upgrade agynio/gh-pr-review` を実行して更新できます。

### 認証の問題

認証がうまくいかないことがあります。再認証が必要かもしれません。gh authコマンドを実行して解決してください。

### コメントが取得できない

コメントが表示されない場合、いくつかの原因が考えられます。PRが実際にオープンでコメントがあることを確認してください。また、正しいブランチにいることも確認してください。

## よくある質問

**Q: GitLabやBitbucketでも使えますか？**

A: いいえ、現在はGitHubのみ対応しています

**Q: 返信テンプレートをカスタマイズできますか？**
A: テンプレートは組み込みで、現在カスタマイズできません。将来的に追加する可能性があります。

**Q: 言語検出はどのように動作しますか？**

A: PRのタイトルと本文を分析します

**Q: 検出に失敗した場合はどうなりますか？**
A: デフォルトで英語になります。

## ライセンス

MIT
